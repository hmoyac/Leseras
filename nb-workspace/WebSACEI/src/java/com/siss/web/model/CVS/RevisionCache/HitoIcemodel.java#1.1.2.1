package com.siss.web.model;

import com.siss.entity.amb.CronogramaAE;
import java.text.SimpleDateFormat;
import java.util.Calendar;

/**
 *
 * @author hmoya
 *
 * Modelo de datos relacionado con el despliege, creción y modificación de los cronogramas.{@link com.siss.entity.amb.CronogramaAE CronogramaAE}
 * asociados a una empresa.
 * @see CronogramaAE
 */
public class HitoIcemodel {

    /**
     * Boolean indicador si el modelo se puede modificar o eliminar.
     */
    private boolean enabled = true;
    /**
     * Bandera boolean que indica se el modelo ha sido seleccionado en la tabla.
     */
    private boolean selected = false;
    /**
     * Identificador del cronograma.
     */
    private Integer id;
    /**
     * Indicador del número de fila.
     */
    private Integer indice;
    /**
     * Indicador de la fila seleccionada.
     */
    private Integer indiceSelected;

    /**
     * Id de la actividadEconomica.
     */
    private long actividadEconomicaId;
    /**
     * descripcion del hito del cronograma.
     */
    private String descripcion;
    /**
     * Fecha final para el hito del cronograma.
     */
    private String fechaTermino;
    /**
     * Rut de la empresa a la que esta asociado el hito.
     */
    private long rut;
    /**
     * Formato para las fechas.
     */
    SimpleDateFormat formato = new SimpleDateFormat("dd-MM-yyyy");
    /**
     * Constructor por defecto.
     */
    public HitoIcemodel() {}

    /**
     * Constructor que recibe un {@link com.siss.entity.amb.CronogramaAE CronogramaAE} y lo transforma
     * a un modelo HitoIceModel.
     * @param cronograma Modelo con la data original del {@link com.siss.entity.amb.CronogramaAE CronogramaAE}.
     * @see CronogramaAE
     */
    public HitoIcemodel(CronogramaAE cronograma) {
        setActividadEconomicaId(cronograma.getActividadEconomicaId());
        setDescripcion(cronograma.getDescripcion());
        setFechaTermino(formato.format(cronograma.getFechaTermino()));
        setRut(cronograma.getRut());
        if (Calendar.getInstance().getTime().before(cronograma.getFechaTermino())) {
            this.enabled = true;
        } else {
            this.enabled = false;
        }
        this.selected = false;
        this.id = cronograma.getCronogramaId();
        this.indice = 0;
        this.indiceSelected = 0;
    }

    /**
     * Metodo que transforma un modelo {@link com.siss.entity.amb.CronogramaAE CronogramaAE} a un HitoIceModel.
     * @param cronograma Modelo con la data original del {@link com.siss.entity.amb.CronogramaAE CronogramaAE}.
     * @return Modelo con la data necesaria para gestionarse en la tabla.
     * @see CronogramaAE
     */
    public HitoIcemodel transforma(CronogramaAE cronograma) {
        HitoIcemodel aux = new HitoIcemodel();
        aux.setActividadEconomicaId(cronograma.getActividadEconomicaId());
        aux.setDescripcion(cronograma.getDescripcion());
        aux.setFechaTermino(formato.format(cronograma.getFechaTermino()));
        aux.setRut(cronograma.getRut());
        if (Calendar.getInstance().getTime().before(cronograma.getFechaTermino())) {
            aux.setEnabled(true);
        } else {
            aux.setEnabled(false);
        }
        aux.setSelected(false);
        aux.setId(cronograma.getCronogramaId());
        this.indice = 0;
        this.indiceSelected = 0;
        return aux;
    }

    /**
     * Retorna un boolean que indica si el modelo puede ser modificado o eliminado.
     * @return boolean que indica si el modelo puede ser modificado o eliminado.
     */
    public boolean isEnabled() {
        return enabled;
    }

    /**
     * Setea un boolean que indica si el modelo puede ser modificado o eliminado.
     * @param enabled boolean que indica si el modelo puede ser modificado o eliminado.
     */
    public void setEnabled(boolean enabled) {
        this.enabled = enabled;
    }

    /**
     * Retorna booleano indicando si el modelo está seleccionado en la tabla.
     * @return booleano indicando si el modelo está seleccionado en la tabla.
     */
    public boolean isSelected() {
        return selected;
    }

    /**
     * Setea booleano indicando si el modelo está seleccionado en la tabla.
     * @param selected booleano indicando si el modelo está seleccionado en la tabla.
     */
    public void setSelected(boolean selected) {
        this.selected = selected;
    }

    /**
     * Retorna el identificador del cronograma.{@link com.siss.entity.amb.CronogramaAE CronogramaAE}
     * @return Identificador del cronograma
     */
    public Integer getId() {
        return id;
    }

    /**
     * Setea el identificador del cronograma.{@link com.siss.entity.amb.CronogramaAE CronogramaAE}
     * @param id Identificador del cronograma
     */
    public void setId(Integer id) {
        this.id = id;
    }

    /**
     * Retorna el índice del modelo en la tabla.
     * @return Índice del modelo en la tabla.
     */
    public Integer getIndice() {
        return indice;
    }

    /**
     * Setea el índice del modelo en la tabla.
     * @param indice Índice del modelo en la tabla.
     */
    public void setIndice(Integer indice) {
        this.indice = indice;
    }

    /**
     * Retorna el índice del modelo seleccionado.
     * @return Índice del modelo seleccionado.
     */
    public Integer getIndiceSelected() {
        return indiceSelected;
    }

    /**
     * Setea el índice del modelo seleccionado.
     * @param indiceSelected Índice del modelo seleccionado.
     */
    public void setIndiceSelected(Integer indiceSelected) {
        this.indiceSelected = indiceSelected;
    }

    /**
     * Retorna la actividad económica de la empresa asociada al hito del cronograma.
     * @return la actividad económica de la empresa asociada al hito del cronograma.
     */
    public long getActividadEconomicaId() {
        return actividadEconomicaId;
    }

    /**
     * Setea la actividad económica de la empresa asociada al hito del cronograma.
     * @param actividadEconomicaId la actividad económica de la empresa asociada al hito del cronograma.
     */
    public void setActividadEconomicaId(long actividadEconomicaId) {
        this.actividadEconomicaId = actividadEconomicaId;
    }

    /**
     * Retorna la descripción o acciones a realizar del hito del cronograma.
     * @return descripción o acciones a realizar del hito del cronograma.
     */
    public String getDescripcion() {
        return descripcion;
    }

    /**
     * Setea la descripción o acciones a realizar del hito del cronograma.
     * @param descripcion descripción o acciones a realizar del hito del cronograma.
     */
    public void setDescripcion(String descripcion) {
        this.descripcion = descripcion;
    }

    /**
     * Retorna la fecha de término o ejecución del hito del cronograma.
     * @return fecha de término o ejecución del hito del cronograma.
     */
    public String getFechaTermino() {
        return fechaTermino;
    }

    /**
     * Setea la fecha de término o ejecución del hito del cronograma.
     * @param fechaTermino fecha de término o ejecución del hito del cronograma.
     */
    public void setFechaTermino(String fechaTermino) {
        this.fechaTermino = fechaTermino;
    }

    /**
     * Retorna el rut de la empresa asociada al hito del cronograma.
     * @return rut de la empresa asociada al hito del cronograma.
     */
    public long getRut() {
        return rut;
    }

    /**
     * Setea el rut de la empresa asociada al hito del cronograma.
     * @param rut rut de la empresa asociada al hito del cronograma.
     */
    public void setRut(long rut) {
        this.rut = rut;
    }


}
